num_trials = 1000000

num_fit_samps = 100000
num_bid_pts = 500
num_mus = 500

kinds_params_list = [
  [[-0.2807703827510444, -0.6566612535844509, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.026322222842962106, -0.7748753351977228, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [0.36795604153238437, -0.6301402098834546, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.38194748449694643, -0.7994808714072104, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [0.2530201023054688, -0.5786383401252392, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7]],
  [[-0.054131934193111415, -0.6344171313131282, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.5987315683903017, -0.772012387648263, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7]],
  [[0.5818482353125791, -0.5337574263863094, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.5563710887944859, -0.7787957046749634, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [0.391517386035934, -0.4729608327448286, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [0.29886382041663556, -0.47232161216727764, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [0.03967425637293699, -0.4896320251926731, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.34016410527294083, -0.7018984032291051, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.16590882023258532, -0.6751461534539682, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.15748472849109418, -0.598709339030687, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.13819240511986103, -0.7663633571440726, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.003798527221062449, -0.731191557736485, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7]],
  [[0.603826898141788, -0.5912915506227443, 1.4230249470757705, 0.17888543819998318, 0.4444444444444445, 0.7], [0.013182106240829765, -0.6448177589318834, 1.4230249470757705, 0.17888543819998318, 0.4444444444444445, 0.7], [0.15838227415101938, -0.578528375084376, 1.4230249470757705, 0.17888543819998318, 0.4444444444444445, 0.7], [0.6402479167117835, -0.5800041795297247, 1.4230249470757705, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.17762123763417315, -0.5678817327737408, 1.4230249470757705, 0.17888543819998318, 0.4444444444444445, 0.7]],
  [[-0.17773074333585528, -0.6408042385530908, 0.4743416490252569, 0.17888543819998318, 0.4444444444444445, 0.7], [0.1339370687147745, -0.5978068339415307, 0.4743416490252569, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.2453154425660852, -0.814241893660782, 0.4743416490252569, 0.17888543819998318, 0.4444444444444445, 0.7], [0.09264131293709386, -0.5925042859234633, 0.4743416490252569, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.3336400481035341, -0.6934472561256135, 0.4743416490252569, 0.17888543819998318, 0.4444444444444445, 0.7]],
  [[-0.3080445254158227, -0.40149033887210395, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.15248431964511777, -0.35596889993336434, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.17014570213178493, -0.5261794229430515, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.2063774500025759, -0.3396574256549484, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [0.6597708295679012, -0.24935421104158007, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7]],
  [[0.1955501639809316, -1.0791623653670754, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [0.010648699658980871, -1.0874495182324797, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.7455948684680417, -1.156239127747371, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [0.3465462151722498, -0.8581715524804919, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7], [-0.08398753325564083, -0.9319489520602178, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.7]],
  [[-0.09061338967768855, -0.62, 0.9486832980505138, 0.0, 0.4444444444444445, 0.7], [-0.1154814929534315, -0.62, 0.9486832980505138, 0.0, 0.4444444444444445, 0.7], [-0.1341036495909346, -0.62, 0.9486832980505138, 0.0, 0.4444444444444445, 0.7], [0.159016209946639, -0.62, 0.9486832980505138, 0.0, 0.4444444444444445, 0.7], [-0.15895069944295184, -0.62, 0.9486832980505138, 0.0, 0.4444444444444445, 0.7]],
  [[-0.3109957037083977, -0.7949357896874065, 0.9486832980505138, 0.8944271909999159, 0.4444444444444445, 0.7], [0.047230798640734276, -0.8194952704939024, 0.9486832980505138, 0.8944271909999159, 0.4444444444444445, 0.7], [0.3113972883814922, -0.3570401123193916, 0.9486832980505138, 0.8944271909999159, 0.4444444444444445, 0.7], [0.15994685422097749, -0.624318528650625, 0.9486832980505138, 0.8944271909999159, 0.4444444444444445, 0.7], [0.11095227620458212, -0.18515640809578282, 0.9486832980505138, 0.8944271909999159, 0.4444444444444445, 0.7]],
  [[0.832217422138492, -0.7791016853059181, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, -0.5], [0.003865066267597239, -0.5645939254471655, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, -0.5], [0.1454006328898915, -0.7058720885524936, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, -0.5], [0.0030672929357669753, -0.5993270362277553, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, -0.5], [-0.10502410809900321, -0.6125893503138032, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, -0.5]],
  [[-0.11395189370879771, -0.585135738092673, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.0], [0.31869729999513235, -0.5382727694650519, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.0], [-0.23572057236062305, -0.6638806454148596, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.0], [-0.18127309752138107, -0.6622816734824781, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.0], [-0.18338369094965906, -0.6422231099767395, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 0.0]],
  [[1.02163533166913, -0.33103789116819343, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 1.0], [-0.509474475948173, -0.7641011437654839, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 1.0], [-0.24610720780012388, -0.6896096317222494, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 1.0], [-0.13204937935391944, -0.6573492051081985, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 1.0], [0.0919340292084117, -0.5939971312145664, 0.9486832980505138, 0.17888543819998318, 0.4444444444444445, 1.0]],
  [[-0.3338718951001127, -0.7355163576128647, 0.7071067811865476, 0.11547005383792515, 0.5, 0.7], [0.681332486061525, -0.5535333553120554, 0.7071067811865476, 0.11547005383792515, 0.5, 0.7], [-0.33240408559816886, -0.7915527488622212, 0.7071067811865476, 0.11547005383792515, 0.5, 0.7], [-0.17888753930259754, -0.490956609745813, 0.7071067811865476, 0.11547005383792515, 0.5, 0.7], [0.8555003697100709, -0.3582997338889016, 0.7071067811865476, 0.11547005383792515, 0.5, 0.7]],
  [[-0.005522961306275647, -0.637018791390674, 0.7071067811865476, 0.06030226891555273, 0.1, 0.7], [0.27520757581116356, -0.5970415427051402, 0.7071067811865476, 0.06030226891555273, 0.1, 0.7], [-0.7027799555920435, -0.5722376822031136, 0.7071067811865476, 0.06030226891555273, 0.1, 0.7], [-0.5241274752211453, -0.9700175530288979, 0.7071067811865476, 0.06030226891555273, 0.1, 0.7], [-0.03634690088881555, -0.7921668445264924, 0.7071067811865476, 0.06030226891555273, 0.1, 0.7]],
  [[-0.13204052897456678, -0.6129485103434784, 0.9486832980505138, 0.14142135623730953, 0.11111111111111112, 0.7], [0.02468746708898286, -0.6027975838076918, 0.9486832980505138, 0.14142135623730953, 0.11111111111111112, 0.7], [-0.2228469912183271, -0.7006636419977516, 0.9486832980505138, 0.14142135623730953, 0.11111111111111112, 0.7], [0.09219278170624459, -0.5783918518914629, 0.9486832980505138, 0.14142135623730953, 0.11111111111111112, 0.7], [-0.16162269542060947, -0.5523514358995073, 0.9486832980505138, 0.14142135623730953, 0.11111111111111112, 0.7]],
  [[-0.5196098501333853, -0.762426361792915, 0.9486832980505138, 0.18708286933869708, 0.7777777777777777, 0.7], [-0.14869778435237857, -0.7219777326416181, 0.9486832980505138, 0.18708286933869708, 0.7777777777777777, 0.7], [-0.22977449751065868, -0.6935270479863688, 0.9486832980505138, 0.18708286933869708, 0.7777777777777777, 0.7], [-0.372112249515721, -0.7041199244559331, 0.9486832980505138, 0.18708286933869708, 0.7777777777777777, 0.7], [0.014559005953131084, -0.5391231068968668, 0.9486832980505138, 0.18708286933869708, 0.7777777777777777, 0.7]],
  ]

ns_params_list = [
   5,
   2,
   10,
   5,
   5,
   5,
   5,
   5,
   5,
   5,
   5,
   5,
   5,
   5,
   5,
   5,
  ]

ns_list = [
   [1, 1, 1, 1, 1],
   [1, 1],
   [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
   [1, 1, 1, 1, 1],
  ]

import numpy as np
import matplotlib.pyplot as plt

results_list = [
  # simul_welfare, simul_revenue, descend_welfare, descend_revenue, opt_welfare, frac_inspect_simul, frac_simul_winners_inspect, frac_simul_winners_opt, never_inspect_welfare, never_inspect_revenue, random_welfare
  [2.727408497350133, 1.3485812399706574, 2.8276557610032116, 2.416995001060432, 2.827747754110669, 0.18157119999998644, 0.29146919999999704, 0.291161799999994, 0.576744999999983, 0.8302739999999957, 2.6292260363415805, 1.3930566460480387, 1.1020109932852673],
  [1.1032546946468478, 0.2604571566982106, 1.1049786901367114, 0.6256317588423462, 1.1129084794197195, 0.19601349999999634, 0.5440600000000158, 0.5289145000000021, 0.36187700000000206, 0.9438809999999954, 1.0974867203226517, 0.26536327101699175, 0.669767518838535],
  [3.780984111640767, 2.1065241322816948, 3.9747644477238633, 3.7479234884437487, 3.9747722604011235, 0.11938839999999738, 0.17081070000000437, 0.17075589999999924, 0.6377229999999847, 0.7883049999999906, 3.574701034269825, 2.1422649205633126, 1.0996550870674322],
  [10.022593985716037, 3.1946012977393266, 10.237094727920882, 6.029278470071433, 10.237917932664546, 0.4371422000000051, 0.44916960000000394, 0.44836959999999054, 0.868480999999994, 0.8791570000000107, 8.62299379770034, 3.739845819248562, 3.1554930583281626],
  [0.9303885412156879, 0.6283887960004512, 0.932990347537949, 0.8988905359562093, 0.9329957680891482, 0.005262399999999919, 0.2054051999999959, 0.20538839999998987, 0.02591299999999928, 0.9707080000000158, 0.9301173781953599, 0.628410910344164, 0.5015807131862059],
  [2.712228298753135, 1.1015424510781144, 2.7697566776117544, 2.204836306180997, 2.771785289276545, 0.13232919999999987, 0.2520576000000158, 0.25015620000000366, 0.5241710000000194, 0.8742089999999809, 2.665162275231618, 1.1311559028202192, 0.9256568273881269],
  [2.923458324915594, 1.4695425489485994, 3.034822401718841, 2.6448038720767175, 3.0348547322332133, 0.2590971999999853, 0.3285839999999885, 0.3283298, 0.7057229999999901, 0.8330599999999913, 2.7564102542590962, 1.530263565602952, 1.212195304047096],
  [2.346030032032225, 1.1823490902282539, 2.4343916183670147, 1.8499691817392714, 2.434574847899075, 0.1658877999999997, 0.28495000000000037, 0.28474400000000555, 0.5331289999999886, 0.8358099999999996, 2.2641597221299574, 1.2204204784360297, 0.9373944573871585],
  [2.0565748499423857, 1.126683663724733, 2.1373712682757113, 1.8749027404158791, 2.137427452973617, 0.17449080000000225, 0.2911271999999994, 0.29103439999999525, 0.47259899999998656, 0.8350279999999504, 2.0000190504421482, 1.135247440359334, 0.822803600087459],
  [3.962138276754555, 1.7187363063999483, 4.067066149784758, 2.9936700832526557, 4.069079149795788, 0.2490042000000013, 0.3119984000000022, 0.30952939999998985, 0.7408269999999888, 0.8605480000000453, 3.764447596816583, 1.813477641830154, 1.4647182603191389],
  [2.4189087618010547, 1.1714589878193122, 2.5031325756684644, 1.8630984729242086, 2.503678011785086, 0.1681360000000014, 0.2830113999999957, 0.28234560000000947, 0.5446529999999915, 0.8411799999999948, 2.3406757576095134, 1.2118303793333796, 0.9328620839001258],
  [4.002198471706981, 1.4356017152166711, 4.078303611545445, 3.301215831193589, 4.078856329505864, 0.18782500000000138, 0.26682360000001065, 0.2652795999999836, 0.7187369999999974, 0.8761270000000126, 3.9152400837059824, 1.4935748369328938, 1.3636967121251098],
  [2.937473356485653, 1.4917107896543929, 2.9910563990638748, 2.6519558651741875, 2.99116778042979, 0.10178660000000236, 0.2381517999999957, 0.2378279999999989, 0.42247599999999047, 0.8878940000000072, 2.9164852145959914, 1.509747059019322, 1.1268093532125372],
  [1.2594703162260164, 0.8299467865891522, 1.3068812242109733, 1.2771216442353632, 1.3068813987208194, 0.16771520000000287, 0.2777693999999889, 0.2777257999999868, 0.6144669999999665, 0.8071219999999963, 1.218902122751923, 0.8501439254682102, 0.6243095877273361],
  [1.6494707565578535, 1.0866804189660886, 1.7951030040629552, 1.4698099088339254, 1.7951527408274908, 0.2639549999999893, 0.37920799999999977, 0.37889280000000475, 0.6357560000000134, 0.7403559999999743, 1.4964034328000066, 1.0858614473491623, 0.9083099620954965],
  [2.1817246382609237, 0.9266860012810091, 2.2041592878431064, 1.6395666538869862, 2.2044905809680246, 0.03702280000000032, 0.21753240000000212, 0.2168740000000048, 0.16592199999999607, 0.9362249999999925, 2.1778295849166427, 0.9296843019648487, 0.725650422969115],
  ]

max_std_error = 0.019686445960201627

std_errors = [
  [0.003226101662153662, 0.000915812105400193, 0.0022332917805427052, 0.0017113624645231451, 0.002233286285730011, 0.00016041871793754452, 0.00013109493749661677, 0.00013089286975883323, 0.0004940753475791363, 0.0003753920961384621, 0.0016144421350263146, 0.00072360864544677, 0.0006179991370422182],
  [0.0016772342770338506, 0.00033318480344255336, 0.0011739835659814978, 0.0005736633583148464, 0.0011721370819479718, 0.0002540482677726267, 0.0001417347398795971, 0.0001397129958503194, 0.00048054372100077546, 0.00023015149534319615, 0.0009663272884810769, 0.0003274231755763093, 0.0006578094132297523],
  [0.004180779070033602, 0.0012918335431407954, 0.0028028636974333603, 0.0025496294676412615, 0.0028028631733574803, 9.540638892557983e-05, 8.744325252317862e-05, 8.740515004763807e-05, 0.00048065851319165206, 0.00040850996787763794, 0.0019517478466779701, 0.0008963678538522403, 0.0004508721036482611],
  [0.019686445960201627, 0.0036767522671294008, 0.015824095889187637, 0.00568605890203909, 0.015824267345219602, 0.0002103552738309667, 0.00019964325757027354, 0.00019947596744094206, 0.00033796725708397433, 0.00032594489655626515, 0.007915947017422584, 0.0026156486102453243, 0.0036007301811438837],
  [0.0003568305133305527, 0.00019276386659979915, 0.00033259552850294424, 0.00031438093663866583, 0.0003325933997957363, 3.201606114543426e-05, 3.274362357933095e-05, 3.269015469657852e-05, 0.00015887586875463645, 0.00016862386299100078, 0.00032369219058789973, 0.00019268239788835902, 0.0001273390185775591],
  [0.00359079683570693, 0.0007686631170726399, 0.002514264546408417, 0.0018223648387197175, 0.00251380980470758, 0.00011925551160946915, 9.963180319926104e-05, 9.805429728576327e-05, 0.0004994156707343179, 0.00033161383307506436, 0.0019377199253187006, 0.0006966823715254346, 0.0006288080690528998],
  [0.00326327010726518, 0.0009975048934847872, 0.0023378872030654823, 0.0018583307460839998, 0.0023378829001913, 0.00018210072518481352, 0.00015365734136245585, 0.00015348852071307085, 0.0004557172971802228, 0.00037292247917117147, 0.0015994946388662896, 0.0007336474268811604, 0.0006487623206335748],
  [0.002745301094178733, 0.0008157230096989535, 0.0019195626656401924, 0.0011881614919782727, 0.0019195773663723188, 0.00016293294436149237, 0.00012662287918600377, 0.00012647810269256267, 0.0004989015115849244, 0.00037044808156039337, 0.0013687786696497252, 0.000660137574067427, 0.000561268534572294],
  [0.00232742835429797, 0.0006981799817221082, 0.0014286951543170713, 0.0011594208160919486, 0.001428663597148939, 0.00016466362023673624, 0.0001336844467082516, 0.00013362049195791688, 0.0004992488702525354, 0.0003711554619999196, 0.0011367535192553491, 0.0005363034424465408, 0.000498286241539669],
  [0.004553994561392391, 0.0012070777881974957, 0.0036001577837443087, 0.002005328053163791, 0.003600375072615491, 0.00016059892332881206, 0.00014283269513182026, 0.000141814846356405, 0.0004381809535723231, 0.0003464177531554345, 0.0024135029707323453, 0.0009484255121975596, 0.0009201289163862994],
  [0.002873055049120476, 0.0008177757233746728, 0.002046994633539427, 0.0012156484644774742, 0.0020470415004867053, 0.00016000497212771784, 0.0001248818764494009, 0.00012448171615276512, 0.0004980023670599847, 0.0003655083325949582, 0.0014742741684674948, 0.0006702256207035067, 0.0005776492857218361],
  [0.005172081184433013, 0.0009597670528495899, 0.0038054498268246884, 0.002558738104138501, 0.0038054478142044543, 0.00010552222756339313, 0.00011364074708157877, 0.000112605623766606, 0.0004496157548232983, 0.00032943677451005153, 0.0028141424590798613, 0.0008391575913330424, 0.0008766498313273823],
  [0.0023758879732794615, 0.0007893169023686649, 0.001832606185836027, 0.001512469972270417, 0.0018325522386738223, 0.00011877349101370185, 8.286137232008002e-05, 8.241801507394651e-05, 0.0004939537158624081, 0.00031549697986247557, 0.0015411244689474655, 0.0007439366334371114, 0.0004946613683454893],
  [0.001254074344196655, 0.00023462130780117665, 0.00046336721663278323, 0.00045270312388726556, 0.00046336706695412726, 8.466368086079526e-05, 0.00012105723885210144, 0.00012101419197265489, 0.00048672121672323025, 0.00039455827553383, 0.00031915045282676884, 0.00019785563962508067, 0.0001539378411082575],
  [0.0024512398982210752, 0.0006159081223960372, 0.000825737368212582, 0.0005407978457484557, 0.0008257597247636651, 0.00017288744276282002, 0.00019351374675606635, 0.00019339297688644892, 0.00048121776778766183, 0.0004384394889756042, 0.0004530706767261353, 0.00027812933673347336, 0.00030077185529099864],
  [0.002249168374067716, 0.0007345632410408182, 0.002059431602918383, 0.0014101623655702598, 0.002059239204116441, 8.419334515672414e-05, 6.114097389197192e-05, 5.8119114771574653e-05, 0.00037201079058009654, 0.0002443518141590275, 0.001880795789613417, 0.0007217693123134484, 0.0005705988438649322],
  ]



print("Welfare")
print("-------")
print("#   simul (std err)   descending (std err)   first-best (std err)   |   never-inspect (std err)   random (std err)")
for i,res in enumerate(results_list):
  print("%2d   %7.3f (%5.3f)   %7.3f (%5.3f)   %7.3f (%5.3f)   |   %7.3f (%5.3f)   %7.3f (%5.3f)"
        % (i+1, res[0], std_errors[i][0], res[2], std_errors[i][2], res[4], std_errors[i][4], res[10], std_errors[i][10], res[12], std_errors[i][12]))

print("")
print("Welfare as percent of first-best")
print("--------------------------------")
print("#   simul   descending   |   never-inspect   random")
for i,res in enumerate(results_list):
  opt = res[4]
  if opt == 0.0:
    print("-----------")
  else:
    print("%2d   %7.2f   %7.2f   |   %7.2f   %7.2f"
          % (i+1, 100*res[0]/opt, 100*res[2]/opt, 100*res[10]/opt, 100*res[12]/opt))

print("")
print("Revenue")
print("-------")
print("#   simul (std err)   descending (std err)   |   never-inspect (std err)")
for i,res in enumerate(results_list):
   print("%2d   %7.3f (%5.3f)   %7.3f (%5.3f)   |   %7.3f (%5.3f)"
         % (i+1, res[1], std_errors[i][1], res[3], std_errors[i][3], res[11], std_errors[i][11]))

print("")
print("Revenue as percent of descending")
print("--------------------------------")
print("#   simul   |   never-inspect")
for i,res in enumerate(results_list):
  desc = res[3]
  if desc == 0.0:
    print("---------")
  else:
    print("%2d   %7.3f   |   %7.3f"
          % (i+1, 100*res[1]/desc, 100*res[11]/desc))

print("")
print("Percent of bidders inspecting")
print("-----------------------------")
print("#   simul (std err)   descending (std err)   opt (std err)")
for i,res in enumerate(results_list):
  print("%2d   %5.2f (%5.2f)   %5.2f (%5.2f)   %5.2f (%5.2f)"
        % (i+1, 100*res[5], 100*std_errors[i][5], 100*res[6], 100*std_errors[i][6], 100*res[7], 100*std_errors[i][7]))

print("")
print("Simultaneous auction stats")
print("--------------------------")
print("percent of times winner inspected and")
print("percent of times winner had highest covered call")
print("#   winner_insp (std err)   winner_was_opt (std err)")
for i,res in enumerate(results_list):
  print("%2d   %7.2f (%5.2f)   %7.2f (%5.2f)"
        % (i+1, 100*res[8], 100*std_errors[i][8], 100*res[9], 100*std_errors[i][9]))

width = 0.27
inds = np.arange(len(results_list))
one_inds = np.arange(1, len(results_list)+1)

## welfare plot
ax = plt.figure()
simul = plt.bar(one_inds, [r[0] for r in results_list], width, yerr=[s[0] for s in std_errors], color='green')
descend = plt.bar(one_inds + width, [r[2] for r in results_list], width, yerr=[s[2] for s in std_errors], color='blue')
opt = plt.bar(one_inds + 2*width, [r[4] for r in results_list], width, yerr=[s[4] for s in std_errors], color='red')
plt.ylabel("welfare")
plt.xlabel("parameter set")
plt.legend([simul[0], descend[0], opt[0]], ["Simultaneous", "Descending", "Opt"])
plt.xticks(one_inds)
plt.title("Welfare")

## revenue plot
ax = plt.figure()
simul = plt.bar(one_inds, [r[1] for r in results_list], width, yerr=[s[1] for s in std_errors], color='green')
descend = plt.bar(one_inds + width, [r[3] for r in results_list], width, yerr=[s[3] for s in std_errors], color='blue')
plt.ylabel("revenue")
plt.xlabel("parameter set")
plt.legend([simul[0], descend[0]], ["Simultaneous", "Descending"])
plt.xticks(one_inds)
plt.title("Revenue")

plt.show()
